# =============================================================================
# DQ-POC Unified Environment Configuration
# =============================================================================
# This is the master environment file for the entire DQ-POC project
# Copy this to .env in the root directory and customize for your environment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
LOG_LEVEL=INFO

# Frontend Configuration
REACT_APP_API_URL=http://localhost:8000/v1

# =============================================================================
# DATABASE CONFIGURATIONS
# =============================================================================

# FalkorDB (Graph Database)
FALKORDB_HOST=falkordb
FALKORDB_PORT=6379
FALKORDB_PASSWORD=

# MongoDB (Results Storage)
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_USERNAME=
MONGODB_PASSWORD=
MONGODB_DATABASE=reconciliation
MONGODB_AUTH_SOURCE=admin
MONGODB_RESULTS_COLLECTION=reconciliation_results

# =============================================================================
# BUSINESS DATABASE CONNECTIONS
# =============================================================================

# Enable environment-based database configs
USE_ENV_DB_CONFIGS=true

# Source Database (Data Quality Source)
SOURCE_DB_TYPE=sqlserver
SOURCE_DB_HOST=DESKTOP-41O1AL9\LOCALHOST
SOURCE_DB_PORT=1433
SOURCE_DB_DATABASE=NewDQ
SOURCE_DB_USERNAME=mithun
SOURCE_DB_PASSWORD=mithun123
SOURCE_DB_SERVICE_NAME=

# Target Database (Data Quality Target)
TARGET_DB_TYPE=sqlserver
TARGET_DB_HOST=DESKTOP-41O1AL9\LOCALHOST
TARGET_DB_PORT=1433
TARGET_DB_DATABASE=NewDQ
TARGET_DB_USERNAME=mithun
TARGET_DB_PASSWORD=mithun123
TARGET_DB_SERVICE_NAME=

# KPI Analytics Database
KPI_DB_TYPE=sqlserver
KPI_DB_HOST=DESKTOP-41O1AL9\LOCALHOST
KPI_DB_PORT=1433
KPI_DB_DATABASE=KPI_Analytics
KPI_DB_USERNAME=mithun
KPI_DB_PASSWORD=mithun123
KPI_DB_SERVICE_NAME=

# Landing Database (Optional)
LANDING_DB_ENABLED=true
LANDING_DB_HOST=localhost
LANDING_DB_PORT=3306
LANDING_DB_DATABASE=reconciliation_landing
LANDING_DB_USERNAME=root
LANDING_DB_PASSWORD=Baps@1234

# =============================================================================
# AI/LLM CONFIGURATION
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY=TEST
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0
OPENAI_MAX_TOKENS=2000

# LLM Feature Flags
ENABLE_LLM_EXTRACTION=true
ENABLE_LLM_ANALYSIS=true

# =============================================================================
# JDBC CONFIGURATION
# =============================================================================

# JDBC Drivers Path (adjust for Docker vs local)
JDBC_DRIVERS_PATH=D:\learning\dq-poc\jdbc_drivers

# =============================================================================
# AIRFLOW CONFIGURATION (KPI Scheduling)
# =============================================================================

# Airflow Core Settings
AIRFLOW_HOME=/opt/airflow
AIRFLOW_DAGS_FOLDER=/opt/airflow/dags
AIRFLOW_WEBSERVER_PORT=8080
AIRFLOW_EXECUTOR=LocalExecutor
AIRFLOW_DATABASE_URL=postgresql://airflow:airflow@localhost:5432/airflow

# KPI Scheduler Integration
KPI_SCHEDULER_API_BASE_URL=http://localhost:8000/v1
KPI_SCHEDULER_API_TIMEOUT=300

# Email Notifications
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
NOTIFICATION_FROM_EMAIL=kpi-scheduler@yourcompany.com

# Airflow Security
AIRFLOW_SECRET_KEY=your-secret-key-here
AIRFLOW_FERNET_KEY=your-fernet-key-here

# Airflow Performance
AIRFLOW_MAX_ACTIVE_RUNS_PER_DAG=1
AIRFLOW_PARALLELISM=32
AIRFLOW_DAG_CONCURRENCY=16
AIRFLOW_MAX_ACTIVE_TASKS_PER_DAG=16

# Airflow Scheduler
AIRFLOW_SCHEDULER_HEARTBEAT_SEC=5
AIRFLOW_SCHEDULER_CATCHUP_BY_DEFAULT=false
AIRFLOW_SCHEDULER_DAG_DIR_LIST_INTERVAL=300

# Airflow Logging
AIRFLOW_LOGGING_LEVEL=INFO
AIRFLOW_LOG_RETENTION_DAYS=30

# Airflow Web Server
AIRFLOW_WEBSERVER_AUTHENTICATE=true
AIRFLOW_WEBSERVER_AUTH_BACKEND=airflow.contrib.auth.backends.password_auth

# =============================================================================
# RECONCILIATION SETTINGS
# =============================================================================

RECON_MIN_CONFIDENCE=0.7
RECON_ENABLE_LLM=true
RECON_SAMPLE_SIZE=100

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# Uncomment and modify based on your deployment environment

# Development Environment
# FALKORDB_HOST=localhost
# MONGODB_HOST=localhost
# REACT_APP_API_URL=http://localhost:8000/v1

# Docker Environment  
# FALKORDB_HOST=falkordb
# MONGODB_HOST=mongodb
# JDBC_DRIVERS_PATH=/app/jdbc_drivers

# Production Environment
# FALKORDB_HOST=prod-falkordb.company.com
# MONGODB_HOST=prod-mongodb.company.com
# REACT_APP_API_URL=https://api.company.com/v1
